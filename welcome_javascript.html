<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Welcome</title>

  <link href="https://fonts.googleapis.com/css?family=Libre+Baskerville" rel="stylesheet">


  <style>

    body {
      font-family: 'Libre Baskerville', serif;
    }

    h1 {
      color: red;
      text-align: center;

      width: 70%;
      height: 70%;
      position: absolute;
      top:0;
      bottom:0;
      left:0;
      right:0;
      margin: auto;

    }

    #content {
      width: 80%;
      height: 80%;
      position: absolute;
      top:0;
      bottom:0;
      left:0;
      right:0;
      margin: auto;

    }


  </style>


</head>

<body>

<h1 id="page_title">Welcome to this Website!</h1>

<div id="content">

  <P>Content here. It's often helpful to have placeholder text, and Lorem Ipsum Generators are useful for creating blocks of fake text.
  "Lorem Impsum" the name for fake latin-looking text. Try <a href="http://www.lipsum.com/">http://www.lipsum.com/</a> or one of the many
  <a href="https://www.shopify.com/partners/blog/79940998-15-funny-lorem-ipsum-generators-to-shake-up-your-design-mockups">themed Lorem Ipsum generators</a>,
  such as <a href="http://www.cupcakeipsum.com/"></a>http://www.cupcakeipsum.com/</a>.
  </P>

  <P>Cupcake ipsum dolor. Sit amet jelly-o marshmallow halvah jujubes dessert. Topping sugar plum fruitcake.</P>
  <P>Cookie oat cake lollipop marzipan. Pudding topping jelly beans caramels toffee sesame snaps. Cookie brownie croissant croissant ice cream gingerbread jelly beans soufflé.</P>
  <P>Pudding sweet liquorice topping donut. Cookie lollipop tiramisu apple pie marshmallow jelly-o chupa chups fruitcake macaroon. Wafer bonbon cake soufflé croissant. Muffin dragée candy jelly beans bonbon gummies.</P>
  <P>Wafer topping bear claw croissant sugar plum lollipop bonbon lollipop jelly. Cake ice cream soufflé cheesecake liquorice dragée caramels. Jelly jelly powder. Powder tootsie roll tiramisu sugar plum cupcake muffin pudding.</P>
  <P>Toffee marshmallow bear claw. Tiramisu cheesecake toffee cotton candy powder chocolate bar. Tart brownie sweet. Bonbon macaroon liquorice bear claw bear claw.</P>

</div>

<script>

  var title = document.getElementById("page_title");
  var content = document.getElementById("content");

  // Title is opaque so visible, content is not - it's see-through.
  title.style.opacity = 1;
  content.style.opacity = 0;

  // Wait 2 seconds then fade out the title, fade in the content
  setTimeout(function(){
    fade(title, 2000, "out", function(){
      fade(content, 2000, "in");
    });
  }, 2000);

  /* Fade element in or out. Will always take time milliseconds. Works by adjusting the opacity, so if element
  * is already half-opaque, it will fade to the target in half the time, and the rest of the time will have no effect.*/
  function fade(element, time, out, callback) {

    var intervalLength = 10;   // 100th of a second

    var change = intervalLength / time;  // how much to change opacity in one interval
    // e.g. 2000 ms / 10 =
    var totalChanges = time/intervalLength;   // How many changes will that be? Used to stop modifying element
    var changesMade = 0;

    if (out == "out") { change = -change; }

    var faderId = setInterval(function(){

      console.log('fader', changesMade, change, element.style.opacity);
      var op = Number(element.style.opacity) + change;
      element.style.opacity = op;

      console.log(element.style.opacity);

      changesMade++;    // Count so can stop the timeout function calls

      if (changesMade == totalChanges) {

        // If opacity ended up outside the expected range of 0 - 1 then set to the nearest valid value
        if (op > 1) { element.style.opacity = 1; }
        if (op < 0) { element.style.opacity = 0; }

        clearTimeout(faderId);
        if (callback) callback();   // Notify caller that the function is done
      }

    }, intervalLength);
  }


</script>

</body>
</html>